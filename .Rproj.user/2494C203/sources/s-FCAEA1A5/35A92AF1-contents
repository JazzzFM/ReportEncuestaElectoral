% Author: Karol KozioL and Jaziel Flores
% License: GPL-3
% Modified by: Sarah Wagner
% Se requiere devtools::install_github("INWTlab/ireports")

% % % packages -----------------------------------------------------------------------------------
\usepackage{amsmath}
\usepackage{array}
\usepackage{booktabs}
\usepackage{calc}
\usepackage{eso-pic}
\usepackage{fancyhdr}
\usepackage{fontspec}
\usepackage[left = 2.5cm, right = 2.5cm, top = 1.2cm, bottom = 1.2cm, includeheadfoot]{geometry}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}
\usepackage{lastpage}
\usepackage{multirow}
\usepackage{tabularx} 
\usepackage{tikz}
\usepackage{titlesec}
\usepackage{xcolor, colortbl}
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}	
\usepackage{empheq}
\usepackage{tabularx}
\usepackage[numbib]{tocbibind}
\usepackage{enumitem}
\usepackage[most]{tcolorbox}
\usepackage[numbib]{tocbibind}
\usepackage{enumitem}
\usepackage{pgf}
\usepackage{cprotect}	
\usepackage{pdfpages}
\usepackage{lipsum}
\tcbuselibrary{listings,breakable}


% % % settings -----------------------------------------------------------------------------------

% % custom colors
\definecolor{morena}{HTML}{751438}
\definecolor{amarillom}{HTML}{ba9f19}

% definition of pagename
\newcommand\pagename{Page}

% % fonts 
%\defaultfontfeatures{Mapping = tex-text}
\setmainfont[BoldFont = Poppins-Bold.ttf, ItalicFont = Poppins-Italic.ttf, BoldItalicFont = Poppins-BoldItalic.ttf]{Poppins-Regular.ttf}
  \newfontfamily\headingfont[ItalicFont = Poppins-BlackItalic.ttf]{Poppins-Black.ttf}


% % sections
\titleformat{\section}{\color{morena}\headingfont\Large\bfseries}{\thesection}{1em}{}[\titlerule]
\titleformat{\subsection}{\color{morena}\headingfont\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\color{morena}\headingfont\bfseries}{\thesubsubsection}{1em}{}

% % misc
\setlength{\parindent}{0em} 
\linespread{1}
\raggedright
\newcolumntype{C}{>{\centering\arraybackslash}X}


% % % custom titlepage ----------------------------------------------------------------------------
\newcommand\BackgroundPic{%
	\put(0,0){%
		\parbox[b][\paperheight]{\paperwidth}{%
			\vfill
			\centering
			\includegraphics[width=\paperwidth, height=\paperheight]{\cover}%
			\vfill
}}}

\makeatletter

% pagestyle titlepage
\fancypagestyle{customtitle}{
	\lhead{}
	\chead{}
	\rhead{}
	\makeatother
	\lfoot{}
	\cfoot{}
	\rfoot{\includegraphics[width=4cm,height=1.2cm]{\logo}}
}


% titlepage
\renewcommand{\maketitle}{
	\thispagestyle{customtitle}
	\AddToShipoutPicture*{\BackgroundPic}
	\ClearShipoutPicture
	
	\phantom{a}\hfill
	\vspace{14cm}
	
	\begin{tabular}[l]{@{}p{\textwidth}@{}}
		\color{morena}\headingfont\LARGE\@title\\[1em]
		\color{morena}\headingfont\large\@author\\[1em]
		\color{morena}\headingfont\small\@date\\[1em]
	\end{tabular}
	
	
	
	\clearpage
}
\makeatother

% % % header and footer ---------------------------------------------------------------------------
\pagestyle{fancy}
\lhead{}
\chead{}
\rhead{ \includegraphics[width=4cm,height=1.2cm]{\logo}}
\makeatother
\newlength{\myheight}
\lfoot{}
\cfoot{}
\rfoot{\pagename~\thepage \hspace{1pt} / \pageref{LastPage}}
\renewcommand\headrulewidth{0pt}
\renewcommand\footrulewidth{0pt}

% My customizable boxes
\newtcolorbox{mybox}[2][]{%
  attach boxed title to top center
               = {yshift=-8pt},
  colback      = black!5!white,
  colframe     = black!75!black,
  title        = #1,
}


